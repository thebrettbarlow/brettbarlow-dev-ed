name: 'Install SFDX'
description: 'Installs SFDX'
runs:
  using: 'composite'
  steps:
    - name: Install SFDX
      run: |
        wget https://developer.salesforce.com/media/salesforce-cli/sfdx/channels/stable/sfdx-linux-x64.tar.xz
        mkdir ~/sfdx
        tar xJf sfdx-linux-x64.tar.xz -C ~/sfdx --strip-components 1
        echo "$HOME/sfdx/bin" >> $GITHUB_PATH
        ~/sfdx/bin/sfdx version
      shell: bash
    - name: Cache
      uses: actions/cache@v3
      with:
        path: ~/sfdx
        key: sfdx
