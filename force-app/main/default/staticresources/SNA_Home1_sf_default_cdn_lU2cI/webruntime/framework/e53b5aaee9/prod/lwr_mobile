LWR.define("@salesforce/label/MyCommunities.errorInFileDownload/v/0_5_14",["exports"],function(e){"use strict";var o="MyCommunities.errorInFileDownload";e.default=o,Object.defineProperty(e,"__esModule",{value:!0})});LWR.define("webruntime/logger/v/1_66_6-236_0",["exports"],function(e){"use strict";function r(...o){console.log("[webruntime]",...o)}function n(...o){console.error("[webruntime]",...o)}e.log=r,e.logError=n,Object.defineProperty(e,"__esModule",{value:!0})});LWR.define("mobileruntime/hybridAppManager/v/1",["exports","webruntime/logger/v/1_66_6-236_0","@app/basePath/v/1","@salesforce/label/MyCommunities.errorInFileDownload/v/0_5_14"],function(f,r,b,R){"use strict";function h(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var p=h(b),D=h(R);function m(e,t){if(!w()){r.log("Native JS API is not available");return}const{invokeNative:n}=window.mycommunities.nativejsapi;return n(e,t)}function E(e=""){return new RegExp("^([a-z]+://)","i").test(e)}function L(e=""){if(!E(e))return!1;const t=new URL(e),n=window.location.host;return t.host!==n}function y(){if(!w()){r.log("Native JS API is not available");return}const{webAppBootstrapDone:e}=window.mycommunities.nativejsapi;r.log("Triggering webAppBootstrapDone"),e(!0),r.log("Initial load done! Splash Screen hidden")}function A(e,t){const n=new URL(e||"",window.location.origin);e=n.href;const o="/servlet/networks/switch",a=n.pathname,i=a.indexOf("/s/"),s=i===-1?a:a.substring(0,i+2);return[o,encodeURIComponent(o)].some(l=>e.includes(l))||!s.startsWith(t)}function I(e){if(!e)return null;switch(e.length){case 15:return P(e);case 18:return e;default:return null}}function P(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456";for(let o=0;o<3;++o){let a=0;for(let i=0;i<5;i++){const s=e.charAt(o*5+i);s>="A"&&s<="Z"&&(a+=1<<i)}t+=n.charAt(a)}return e+t}function w(){return window.mycommunities&&window.mycommunities.nativejsapi}const N=["/sfc/servlet.shepherd","/servlet/servlet.FileDownload","/servlet/fileField","version/renditionDownload"];function c(){r.log("Handle showing of Toast Message for Error case.")}function U(e){const t="/sfc/servlet.:type/:contentType/download/:recordId",n=new RegExp(t.replace(/:[^\s/]+/g,"([\\w-]+)")),o=e.match(n);if(o&&o.length===4)return{recordId:o[3]};const a="/servlet/servlet.:type?file=:recordId",i=new RegExp(a.replace(/:[^\s/?]+/g,"([\\w-]+)").replace(/\?/g,"[?]")),s=e.match(i);if(s&&s.length===3)return{recordId:s[2]};const l="/servlet/fileField";if(e.includes(l)){const d=new URLSearchParams(decodeURIComponent(e).split("?")[1]),u=d.get("entityId"),B=d.get("field");return{recordId:u,fieldId:B}}const $="version/renditionDownload";if(e.includes($)){const u=new URL(e).searchParams.get("versionId");return{recordId:I(u)}}return null}function M(e){const t=m("downloadFile",e);if(t)return t.catch(n=>{r.log(`Error while downloading file of record id: ${e.recordId} message: ${n}`&&n.message),c()})}function O(e){if(!e){r.log(`${D.default}. URL is ${e}`),c();return}const t=U(e);if(!t){r.log(`Parsing the file URL "${e}" yielded null`),c();return}return M(t)}function S(e){return e=e||"",N.some(t=>e.indexOf(t)>-1)}function g(e){const t=new URL(e,window.location.origin);if(e=t.href,S(e))return O(e);if(L(e)||A(e,p.default))return m("navigateToExternalURL",{url:e});const n=t.pathname,o=n==="/"||n===p.default;return k(n,o)}function k(e,t){return document.dispatchEvent(new CustomEvent("notify-client-module",{cancelable:!0,composed:!0,detail:{action:"navigate",data:{routeObj:e,replaceState:t}}}))}function C(){T()}function T(){document.addEventListener("click",x),document.addEventListener("notify-mobile-module",j)}function F({route:e,routeInfoData:t}){const{type:n,id:o}=e||{},{isRoot:a,path:i}=t||{};document.dispatchEvent(new CustomEvent("routeChangeSuccess",{bubbles:!0,composed:!0,detail:{routeType:n,routeId:o,routeUrl:i,backNavigation:{canGoBack:!a}}}))}function x(e){const t=e.composedPath()[0];if(t.tagName.toLowerCase()==="a")return e.preventDefault(),e.stopPropagation(),g(t.href)}function j({detail:e}){const{action:t,data:n}=e||{action:"",data:null};switch(t){case"navigationcompleted":F(n||{});break;default:r.log(`No such ${t} exists in notify-mobile-module event. Please re-check!!`);break}}function W(){window.open=e=>g(e)}function v(){return document.addEventListener("DOMContentLoaded",y),W(),C()}function H(e){Object.entries(e).forEach(([t,n])=>{LWR.define(t,[],function(){return n})})}H({"mobileruntime/hybridAppManager":v}),f.hybridAppManager=v,Object.defineProperty(f,"__esModule",{value:!0})});